<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="rot.pot.persistence.mybatis.ActorMapper">
  <resultMap id="BaseResultMap" type="rot.pot.entities.mybatis.Actor">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 12 18:58:58 EEST 2021.
    -->
    <id column="ACTORID" jdbcType="INTEGER" property="actorid" />
    <result column="DATEOFBIRTH" jdbcType="TIMESTAMP" property="dateofbirth" />
    <result column="FIRSTNAME" jdbcType="VARCHAR" property="firstname" />
    <result column="LASTNAME" jdbcType="VARCHAR" property="lastname" />
  </resultMap>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 12 18:58:58 EEST 2021.
    -->
    delete from PUBLIC.ACTOR
    where ACTORID = #{actorid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" keyColumn="ACTORID" keyProperty="actorid" parameterType="rot.pot.entities.mybatis.Actor" useGeneratedKeys="true">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 12 18:58:58 EEST 2021.
    -->
    insert into PUBLIC.ACTOR (DATEOFBIRTH, FIRSTNAME, LASTNAME
      )
    values (#{dateofbirth,jdbcType=TIMESTAMP}, #{firstname,jdbcType=VARCHAR}, #{lastname,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="rot.pot.entities.mybatis.Actor">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 12 18:58:58 EEST 2021.
    -->
    update PUBLIC.ACTOR
    set DATEOFBIRTH = #{dateofbirth,jdbcType=TIMESTAMP},
      FIRSTNAME = #{firstname,jdbcType=VARCHAR},
      LASTNAME = #{lastname,jdbcType=VARCHAR}
    where ACTORID = #{actorid,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 12 18:58:58 EEST 2021.
    -->
    select ACTORID, DATEOFBIRTH, FIRSTNAME, LASTNAME
    from PUBLIC.ACTOR
    where ACTORID = #{actorid,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 12 18:58:58 EEST 2021.
    -->
    select ACTORID, DATEOFBIRTH, FIRSTNAME, LASTNAME
    from PUBLIC.ACTOR
  </select>
  <select id="selectActorMovies" parameterType="java.lang.Integer" resultMap="rot.pot.persistence.mybatis.MovieMapper.MovieResultMap">
    select m.MOVIEID,
           NAME,
           RELEASEDATE from PUBLIC.ACTOR as a
    left join PUBLIC.MOVIE_ACTOR as am on a.ACTORID = am.MOVIE_ACTORID
    left join PUBLIC.MOVIE as m on m.MOVIEID = am.MOVIE_MOVIEID
    where a.ACTORID = #{actorid,jdbcType=INTEGER}
  </select>
  <insert id="assignActorToMovie">
    INSERT INTO PUBLIC.MOVIE_ACTOR (MOVIE_ACTORID, MOVIE_MOVIEID)
    VALUES (#{actorid, jdbcType=INTEGER}, #{movieid, jdbcType=INTEGER});
  </insert>
</mapper>